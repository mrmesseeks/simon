<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ö–∞—Ç–∞–ª–æ–≥ –∫—É—Ä—Å–æ–≤</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      background: #f5f5f5;
    }
    header {
      background: #0088cc;
      color: white;
      padding: 1rem;
      text-align: center;
      font-size: 1.2rem;
    }
    .course-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      padding: 1rem;
    }
    .course {
      background: white;
      border-radius: 8px;
      padding: 1rem;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .course h2 {
      margin: 0 0 0.5rem;
    }
    .course p {
      margin: 0 0 1rem;
      color: #555;
    }
    .btn {
      background: #0088cc;
      color: white;
      border: none;
      border-radius: 4px;
      padding: 0.5rem 1rem;
      font-size: 1rem;
      cursor: pointer;
    }
    .btn:active {
      background: #006fa3;
    }
  </style>
</head>
      <script>
  if (window.Telegram && Telegram.WebApp) {
    Telegram.WebApp.ready();
    console.log('Telegram WebApp –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');

    // –ü–æ–ª—É—á–∞–µ–º Telegram user_id
    const userId = Telegram.WebApp.initDataUnsafe?.user?.id || 'unknown';

    // –§—É–Ω–∫—Ü–∏—è: –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –≤—ã–¥–∞—á—É —Å—Å—ã–ª–∫–∏
    function requestAccess(courseId) {
      fetch('https://jsonplaceholder.typicode.com/posts', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          user_id: userId,
          course_id: courseId
        })
      })
      .then(res => res.json())
      .then(data => {
        alert(`üéâ –î–æ—Å—Ç—É–ø –≤—ã–¥–∞–Ω!\n–°—Å—ã–ª–∫–∞ –Ω–∞ –∫—É—Ä—Å: https://example.com/${courseId}`);
        console.log('–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞:', data);
      })
      .catch(err => {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –¥–æ—Å—Ç—É–ø–∞:', err);
        alert('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–æ—Å—Ç—É–ø–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
      });
    }

    // –î–µ–ª–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–æ—Å—Ç—É–ø–Ω–æ–π –≥–ª–æ–±–∞–ª—å–Ω–æ
    window.requestAccess = requestAccess;
  }
</script>
<body>
  <header>
    –ö–∞—Ç–∞–ª–æ–≥ –∫—É—Ä—Å–æ–≤
  </header>
  <div class="course-list">
    <div class="course">
      <h2>–ß–∏—Ç–∞–µ–º ¬´–†–∞—Å—Å–∫–∞–∑—ã –æ –®–µ—Ä–ª–æ–∫–µ –•–æ–ª–º—Å–µ¬ª"</h2>
      <button class="btn" onclick="requestAccess('course1')">–û–ø–ª–∞—Ç–∏—Ç—å</button>
    </div>
    <div class="course">
      <h2>–ö—É—Ä—Å "–ë–∏–æ–ª–æ–≥–∏—è –¥–ª—è –≤—Å–µ—Ö"</h2>
     <button class="btn" onclick="requestAccess('course2')">–û–ø–ª–∞—Ç–∏—Ç—å</button>
    </div>
    <div class="course">
      <h2>–ö—É—Ä—Å "–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞"</h2>
      <button class="btn" onclick="requestAccess('course3')">–û–ø–ª–∞—Ç–∏—Ç—å</button>
    </div>
  </div>

  <script>
    if (window.Telegram && Telegram.WebApp) {
      Telegram.WebApp.ready();
      console.log('Telegram WebApp –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
    }
  </script>
</body>
</html>
